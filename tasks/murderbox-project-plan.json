{
  "projectName": "murderbox-partyspel",
  "projectType": "fullstack-realtime-game",
  "description": "Realtidsbaserat partyspel med tre vyer: admin, tv och spelare",
  "phases": [
    {
      "name": "FAS 0 - Projekt Setup",
      "description": "Monorepo struktur och grundkonfiguration",
      "tasks": [
        {
          "id": "fas0_001",
          "name": "Skapa monorepo struktur",
          "description": "Skapa mappar apps/server, apps/web, packages/shared",
          "priority": "high",
          "estimatedTime": "30m",
          "status": "pending",
          "phase": "FAS 0",
          "dependencies": [],
          "automatable": true,
          "commands": [
            "mkdir -p apps/server apps/web packages/shared"
          ]
        },
        {
          "id": "fas0_002", 
          "name": "Konfigurera TypeScript strict",
          "description": "Sätt upp TypeScript konfiguration med strict mode",
          "priority": "high",
          "estimatedTime": "45m",
          "status": "pending",
          "phase": "FAS 0",
          "dependencies": ["fas0_001"],
          "automatable": true,
          "files": ["tsconfig.json", "apps/*/tsconfig.json"]
        },
        {
          "id": "fas0_003",
          "name": "Konfigurera ESLint/Prettier",
          "description": "Sätt upp kod-kvalitetsverktyg för hela monorepo",
          "priority": "medium",
          "estimatedTime": "30m", 
          "status": "pending",
          "phase": "FAS 0",
          "dependencies": ["fas0_002"],
          "automatable": true,
          "files": [".eslintrc.js", ".prettierrc"]
        },
        {
          "id": "fas0_004",
          "name": "Konfigurera vitest",
          "description": "Sätt upp vitest för testing i monorepo",
          "priority": "medium",
          "estimatedTime": "30m",
          "status": "pending", 
          "phase": "FAS 0",
          "dependencies": ["fas0_002"],
          "automatable": true,
          "files": ["vitest.config.ts"]
        },
        {
          "id": "fas0_005",
          "name": "Konfigurera ts-alias @shared/*",
          "description": "Sätt upp path mapping för shared packages",
          "priority": "medium",
          "estimatedTime": "15m",
          "status": "pending",
          "phase": "FAS 0", 
          "dependencies": ["fas0_002"],
          "automatable": true,
          "files": ["tsconfig.json"]
        }
      ]
    },
    {
      "name": "FAS 1 - Server",
      "description": "Express + Socket.IO backend med Prisma",
      "tasks": [
        {
          "id": "fas1_001",
          "name": "Sätt upp Express + Socket.IO",
          "description": "Grundläggande server med Socket.IO konfiguration",
          "priority": "high",
          "estimatedTime": "1h",
          "status": "pending",
          "phase": "FAS 1",
          "dependencies": ["fas0_005"],
          "automatable": false,
          "files": ["apps/server/src/index.ts", "apps/server/package.json"]
        },
        {
          "id": "fas1_002",
          "name": "Skapa Prisma schema",
          "description": "Definiera Player, Message, GameState modeller enligt README",
          "priority": "high",
          "estimatedTime": "45m",
          "status": "pending",
          "phase": "FAS 1",
          "dependencies": ["fas1_001"],
          "automatable": false,
          "files": ["apps/server/prisma/schema.prisma"],
          "models": ["Player", "Message", "GameState"]
        },
        {
          "id": "fas1_003",
          "name": "Konfigurera Socket-rooms",
          "description": "Sätt upp rooms: lobby, admin, tv, player:<id>",
          "priority": "high",
          "estimatedTime": "30m",
          "status": "pending",
          "phase": "FAS 1",
          "dependencies": ["fas1_001"],
          "automatable": false,
          "files": ["apps/server/src/socketRooms.ts"],
          "rooms": ["lobby", "admin", "tv", "player:<id>"]
        },
        {
          "id": "fas1_004",
          "name": "Implementera Socket handlers",
          "description": "player:register, admin:start/stop, admin:selectGame, admin:score:add/set, admin:message:send, admin:player:remove",
          "priority": "high",
          "estimatedTime": "2h",
          "status": "pending",
          "phase": "FAS 1",
          "dependencies": ["fas1_002", "fas1_003"],
          "automatable": false,
          "files": ["apps/server/src/socketHandlers.ts"],
          "handlers": [
            "player:register",
            "admin:start", 
            "admin:stop",
            "admin:selectGame",
            "admin:score:add",
            "admin:score:set", 
            "admin:message:send",
            "admin:player:remove"
          ]
        },
        {
          "id": "fas1_005",
          "name": "Seed GameState",
          "description": "Skapa initial GameState data och reset funktionalitet",
          "priority": "medium",
          "estimatedTime": "30m",
          "status": "pending",
          "phase": "FAS 1",
          "dependencies": ["fas1_002"],
          "automatable": false,
          "files": ["apps/server/prisma/seed.ts"],
          "resetBehavior": "Rensar Player/Message, sätter GameState isStarted=false, currentGameKey=null"
        }
      ]
    },
    {
      "name": "FAS 2 - Web",
      "description": "Vite React frontend med tre vyer",
      "tasks": [
        {
          "id": "fas2_001",
          "name": "Sätt upp Vite React TS",
          "description": "Grundläggande Vite + React + TypeScript setup",
          "priority": "high",
          "estimatedTime": "45m",
          "status": "pending",
          "phase": "FAS 2",
          "dependencies": ["fas0_005"],
          "automatable": true,
          "files": ["apps/web/vite.config.ts", "apps/web/package.json"]
        },
        {
          "id": "fas2_002",
          "name": "Konfigurera routes och Tailwind",
          "description": "React Router med routes /admin, /tv, /spelare + Tailwind CSS",
          "priority": "high", 
          "estimatedTime": "45m",
          "status": "pending",
          "phase": "FAS 2",
          "dependencies": ["fas2_001"],
          "automatable": false,
          "files": ["apps/web/src/App.tsx", "apps/web/tailwind.config.js"],
          "routes": ["/admin", "/tv", "/spelare"]
        },
        {
          "id": "fas2_003",
          "name": "Skapa SocketProvider",
          "description": "React context för Socket.IO anslutning",
          "priority": "high",
          "estimatedTime": "30m",
          "status": "pending",
          "phase": "FAS 2", 
          "dependencies": ["fas2_001"],
          "automatable": false,
          "files": ["apps/web/src/contexts/SocketContext.tsx"]
        },
        {
          "id": "fas2_004",
          "name": "Implementera TV-vy",
          "description": "QR-kod till /spelare, lobbygrid, spelplan (3x4), highlight på game:selected",
          "priority": "high",
          "estimatedTime": "2h",
          "status": "pending",
          "phase": "FAS 2",
          "dependencies": ["fas2_002", "fas2_003"],
          "automatable": false,
          "files": ["apps/web/src/views/TVView.tsx"],
          "features": ["QR-kod", "lobbygrid", "spelplan 3x4", "game highlight"]
        },
        {
          "id": "fas2_005", 
          "name": "Implementera Spelare-vy",
          "description": "Flöde: namn->kamera->foto->gå med->väntar på start",
          "priority": "high",
          "estimatedTime": "2h",
          "status": "pending",
          "phase": "FAS 2",
          "dependencies": ["fas2_002", "fas2_003"],
          "automatable": false,
          "files": ["apps/web/src/views/PlayerView.tsx"],
          "flow": ["namn", "kamera", "foto", "gå med", "väntar på start"]
        },
        {
          "id": "fas2_006",
          "name": "Implementera Admin-vy", 
          "description": "Toggle start/stop, välj spel, poängpanel, meddelanden, kick",
          "priority": "high",
          "estimatedTime": "2h",
          "status": "pending",
          "phase": "FAS 2",
          "dependencies": ["fas2_002", "fas2_003"],
          "automatable": false,
          "files": ["apps/web/src/views/AdminView.tsx"],
          "features": ["start/stop toggle", "spelval", "poängpanel", "meddelanden", "kick spelare"]
        }
      ]
    },
    {
      "name": "FAS 3 - Stabilitet & Test",
      "description": "Reconnect, offline-hantering och testing",
      "tasks": [
        {
          "id": "fas3_001",
          "name": "Implementera Reconnect funktionalitet",
          "description": "localStorage playerId för automatisk återanslutning",
          "priority": "medium",
          "estimatedTime": "1h",
          "status": "pending",
          "phase": "FAS 3",
          "dependencies": ["fas2_003"],
          "automatable": false,
          "files": ["apps/web/src/hooks/useReconnect.ts"],
          "features": ["localStorage persistence", "automatisk reconnect"]
        },
        {
          "id": "fas3_002",
          "name": "Offline markering och toasts",
          "description": "Visa offline status och notifikationer",
          "priority": "medium", 
          "estimatedTime": "45m",
          "status": "pending",
          "phase": "FAS 3",
          "dependencies": ["fas3_001"],
          "automatable": false,
          "files": ["apps/web/src/components/Toast.tsx", "apps/web/src/hooks/useOfflineStatus.ts"]
        },
        {
          "id": "fas3_003",
          "name": "Vitest enhetstester",
          "description": "Enhetstester för shared-event logik",
          "priority": "medium",
          "estimatedTime": "1h",
          "status": "pending",
          "phase": "FAS 3",
          "dependencies": ["fas0_004"],
          "automatable": false,
          "files": ["packages/shared/__tests__/events.test.ts"]
        },
        {
          "id": "fas3_004",
          "name": "Integrationstester för reset",
          "description": "Test av reset funktionalitet end-to-end",
          "priority": "medium",
          "estimatedTime": "1h",
          "status": "pending",
          "phase": "FAS 3", 
          "dependencies": ["fas1_005", "fas3_003"],
          "automatable": false,
          "files": ["apps/server/__tests__/reset.integration.test.ts"]
        }
      ]
    }
  ],
  "quickStart": [
    "pnpm install",
    "cd apps/server && pnpm prisma migrate dev && cd ../..",
    "pnpm dev"
  ],
  "endpoints": {
    "tv": "http://localhost:5173/tv",
    "player": "http://localhost:5173/spelare", 
    "admin": "http://localhost:5173/admin"
  }
}